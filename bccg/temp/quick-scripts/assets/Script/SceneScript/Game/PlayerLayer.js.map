{"version":3,"sources":["PlayerLayer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Game","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\n\r\n@ccclass\r\nexport default class PlayerLayer extends cc.Component {\r\n    /**\r\n     * 玩家预制\r\n     * \r\n     * @type {cc.Prefab}\r\n     * @memberof PlayerLayer\r\n     */\r\n    @property(cc.Prefab)\r\n    pre_player: cc.Prefab = null;\r\n    /**\r\n     * 坐位节点数组\r\n     * \r\n     * @type {cc.Node[]}\r\n     * @memberof PlayerLayer\r\n     */\r\n    @property([cc.Node])\r\n    seatNodes: cc.Node[] = [];\r\n    /**\r\n     * 公共牌列表\r\n     * @type {cc.Node[]}\r\n     * @memberof PlayerLayer\r\n     */\r\n    @property([cc.Node])\r\n    pCardNodes: cc.Node[] = [];\r\n    /**\r\n     * 扑克牌预制\r\n     * \r\n     * @type {cc.Prefab}\r\n     * @memberof PlayerLayer\r\n     */\r\n    @property(cc.Prefab)\r\n    pre_card: cc.Prefab = null;\r\n    /**\r\n     * 积分\r\n     * @type {cc.Prefab}\r\n     * @memberof PlayerLayer\r\n     */\r\n    @property(cc.Prefab)\r\n    chip_prefab: cc.Prefab = null;\r\n    onLoad() {\r\n        cc.systemEvent.on('updatePlayer', this.updatePlayer, this);\r\n        cc.systemEvent.on('doFPAction', this.doFPAction, this);\r\n        cc.systemEvent.on('btResult', this.showBTResult, this);\r\n        cc.systemEvent.on('lookCard', this.showLookCard, this);\r\n        cc.systemEvent.on('chatPush', this.showChat, this);\r\n\r\n        this.seatNodes.forEach((seatNode: cc.Node) => {\r\n            seatNode.getChildByName('empty').on(cc.Node.EventType.TOUCH_END, this.click_empty, this);\r\n        }, this);\r\n\r\n        this.updatePlayer();\r\n        dd.gm_manager.playerScript = this;\r\n    }\r\n\r\n    onDestroy() {\r\n        cc.systemEvent.off('updatePlayer', this.updatePlayer, this);\r\n        cc.systemEvent.off('doFPAction', this.doFPAction, this);\r\n        cc.systemEvent.off('btResult', this.showBTResult, this);\r\n        cc.systemEvent.off('lookCard', this.showLookCard, this);\r\n        cc.systemEvent.off('chatPush', this.showChat, this);\r\n    }\r\n\r\n    update() {\r\n        if (dd.gm_manager && dd.gm_manager.getTableData()) {\r\n            let tabelData = dd.gm_manager.getTableData();\r\n            if (tabelData.gameState === dd.game_state.STATE_TABLE_OUTCARD_2) {\r\n                if (dd.gm_manager.publicCardNum !== 3) {\r\n                    dd.gm_manager.publicCardNum = 3;\r\n                    //创建3张公共牌\r\n                    this.showPublicCardAction(0, 3);\r\n                }\r\n            } else if (tabelData.gameState === dd.game_state.STATE_TABLE_OUTCARD_3) {\r\n                if (dd.gm_manager.publicCardNum !== 4) {\r\n                    dd.gm_manager.publicCardNum = 4;\r\n                    //创建第4张公共牌\r\n                    this.showPublicCardAction(3, 4);\r\n                    this.updatePublicCard(3);\r\n                }\r\n            } else if (tabelData.gameState === dd.game_state.STATE_TABLE_OUTCARD_4) {\r\n                if (dd.gm_manager.publicCardNum !== 5) {\r\n                    dd.gm_manager.publicCardNum = 5;\r\n                    //创建第5张公共牌\r\n                    this.showPublicCardAction(4, 5);\r\n                    this.updatePublicCard(4);\r\n                }\r\n            } else {\r\n                this.updatePublicCard(tabelData.tableHandCards.length);\r\n                //单局结算\r\n                if (tabelData.gameState === dd.game_state.STATE_TABLE_OVER_ONCE) {\r\n                    if (!dd.gm_manager.isShowGameOver) {\r\n                        dd.gm_manager.isShowGameOver = true;\r\n                        this.showOthersCard();\r\n                        setTimeout(() => {\r\n                            this.showGameOver();\r\n                        }, 1000);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 显示聊天\r\n     * @memberof PlayerLayer\r\n     */\r\n    showChat(content: any) {\r\n        let data = content.detail;\r\n        let seatInfo = dd.gm_manager.getSeatDataByAccount(data.accountId);\r\n        if (seatInfo) {\r\n            let playerNode = this.getNodeBySeatId(seatInfo.seatIndex);\r\n            if (playerNode) {\r\n                let node = new cc.Node();\r\n                node.width = 80;\r\n                node.height = 80;\r\n                let spriteNode = new cc.Node();\r\n                spriteNode.addComponent(cc.Sprite).spriteFrame = dd.img_manager.bqSpriteFrames[data.content - 1];\r\n                spriteNode.parent = node;\r\n                node.parent = playerNode;\r\n                node.scale = 0;\r\n\r\n                let action = cc.scaleTo(0.5, 1);\r\n                action.easing(cc.easeElasticOut(0.4));\r\n                let seq = cc.sequence(action, cc.delayTime(1), cc.callFunc((target: cc.Node, data?: any) => {\r\n                    target.removeFromParent(true);\r\n                    target.destroy();\r\n                }, this));\r\n                node.runAction(seq);\r\n            }\r\n        }\r\n\r\n    }\r\n    /**\r\n     * 更新坐位上的玩家\r\n     * \r\n     * @memberof PlayerLayer\r\n     */\r\n    updatePlayer() {\r\n        let mineSeat = dd.gm_manager.getMineSeat();\r\n        if (mineSeat) {\r\n            dd.gm_manager.startIndex = mineSeat.seatIndex;\r\n        }\r\n        let tempIndex = dd.gm_manager.startIndex;\r\n        for (let i = 0; i < this.seatNodes.length; i++) {\r\n            let seatData = dd.gm_manager.getSeatDataByIndex(tempIndex);\r\n            let seatNode = this.seatNodes[i];\r\n            let emptyNode = seatNode.getChildByName('empty');\r\n            let playerNode = seatNode.getChildByName('Player');\r\n            if (seatData.accountId === '0') {//座位没人\r\n                emptyNode.active = true;\r\n                if (playerNode) {\r\n                    playerNode.destroy();\r\n                }\r\n            } else {//座位有人\r\n                emptyNode.active = false;\r\n                if (!playerNode) {\r\n                    playerNode = cc.instantiate(this.pre_player);\r\n                }\r\n                playerNode.getComponent('PlayerUI').updateData(seatData, i);\r\n                playerNode.parent = seatNode;\r\n                if (i === 0 && mineSeat) {//是自己\r\n                    playerNode.x = -150;\r\n                } else {\r\n                    playerNode.x = 0;\r\n                }\r\n            }\r\n            tempIndex++;\r\n            if (tempIndex > 8) {\r\n                tempIndex = 0;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 播放发牌动画(如果自己参与战斗发牌给自己后会执行翻牌动画)\r\n     * \r\n     * @memberof PlayerLayer\r\n     */\r\n    doFPAction() {\r\n        let nodeList: cc.Node[] = [];\r\n        let dataList: SeatData[] = [];\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        let dealIndex = tabelData.bankerIndex;\r\n        for (let i = 0; i < tabelData.seats.length; i++) {\r\n            let seatData = tabelData.seats[dealIndex];\r\n            if (seatData.bGamed === 1) {\r\n                let nodeIndex = seatData.seatIndex - dd.gm_manager.startIndex;\r\n                if (nodeIndex < 0) {\r\n                    nodeIndex = 9 + nodeIndex;\r\n                }\r\n                let playerNode = this.seatNodes[nodeIndex].getChildByName('Player');\r\n                if (playerNode) {\r\n                    nodeList.push(playerNode);\r\n                    dataList.push(seatData);\r\n                }\r\n            }\r\n            dealIndex++;\r\n            if (dealIndex > 8) {\r\n                dealIndex = 0;\r\n            }\r\n        }\r\n        let dTime = (Number(tabelData.actTime) - Number(tabelData.svrTime)) / 1000;\r\n        let eTime = dTime / nodeList.length / 2;\r\n        if (eTime < 0.1) {\r\n            eTime = 0.1;\r\n        }\r\n        cc.log('发每张手牌的时间' + eTime);\r\n        let index = 0;\r\n        for (let i = 0; i < 2; i++) {\r\n            for (let j = 0; j < nodeList.length; j++) {\r\n                let playerNode = nodeList[j];\r\n                if (playerNode) {\r\n                    let data = dataList[j];\r\n                    let endPos = playerNode.parent.getPosition().add(playerNode.getPosition());\r\n                    let isMine = playerNode.x === 0 ? false : true;\r\n                    let actionNode = new cc.Node();\r\n                    actionNode.addComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(0);\r\n                    actionNode.scale = 0.5;\r\n                    actionNode.setPosition(0, 0);\r\n                    actionNode.parent = this.node;\r\n                    let delayAction = cc.delayTime(eTime * index);\r\n                    let audioCallBack = cc.callFunc((target: cc.Node) => {\r\n                        dd.mp_manager.playDeal();\r\n                    }, this);\r\n                    let moveAction = cc.moveTo(eTime, endPos);\r\n                    let scaleAction = cc.scaleTo(eTime, 1);\r\n                    let rotateAction = cc.rotateBy(eTime, 720);\r\n                    let spawnAction = cc.spawn(moveAction, scaleAction, rotateAction);\r\n                    let callback = cc.callFunc((target: cc.Node) => {\r\n                        target.destroy();\r\n\r\n                        if (isMine && playerNode && playerNode.isValid) {\r\n                            dd.gm_manager.isCreateMineCard = true;\r\n                            //播放翻牌动画\r\n                            let fpNode = cc.instantiate(this.pre_card);\r\n                            fpNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(data.handCards[i]);\r\n                            fpNode.parent = playerNode.getChildByName('card' + (i + 1));\r\n                            fpNode.getComponent(cc.Animation).play();\r\n                            dd.mp_manager.playFlop();\r\n                        }\r\n                    }, this);\r\n                    actionNode.runAction(cc.sequence(delayAction, audioCallBack, spawnAction, callback));\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 显示结算时候的玩家看牌\r\n     * @memberof PlayerLayer\r\n     */\r\n    showLookCard() {\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData && tabelData.showCardSeatIndex !== -1) {\r\n            let seatInfo = dd.gm_manager.getSeatDataByIndex(tabelData.showCardSeatIndex);\r\n            //不是自己才翻牌\r\n            if (!dd.gm_manager.isMineSeat(seatInfo)) {\r\n                let playerNode = this.getNodeBySeatId(tabelData.showCardSeatIndex);\r\n                if (playerNode) {\r\n                    for (let i = 0; i < 2; i++) {\r\n                        //播放翻牌动画\r\n                        let fpNode = cc.instantiate(this.pre_card);\r\n                        fpNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(seatInfo.handCards[i]);\r\n                        fpNode.parent = playerNode.getChildByName('card' + (i + 3));\r\n                        fpNode.getComponent(cc.Animation).play();\r\n                        dd.mp_manager.playFlop();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 显示公共牌的发牌动作\r\n     * @param {number} sIndex \r\n     * @param {number} eIndex 结束牌索引\r\n     * @memberof PlayerLayer\r\n     */\r\n    showPublicCardAction(sIndex: number, eIndex: number) {\r\n        cc.log('显示公共牌的发牌动作');\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        let index = 0;\r\n        let dTime = (Number(tabelData.actTime) - Number(tabelData.svrTime)) / 1000;\r\n        let eTime = dTime / (eIndex - sIndex);\r\n        if (eTime < 0.1) {\r\n            eTime = 0.1;\r\n        }\r\n        cc.log('发每张公共牌的时间' + eTime);\r\n        for (let i = sIndex; i < eIndex; i++) {\r\n            let pCardNode = this.pCardNodes[i];\r\n            let oldCardNode = pCardNode.getChildByName('FPCard');\r\n            if (oldCardNode) {\r\n                oldCardNode.destroy();\r\n            }\r\n            let endPos = pCardNode.parent.getPosition().add(pCardNode.getPosition());\r\n            let actionNode = new cc.Node();\r\n            actionNode.addComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(0);\r\n            actionNode.scale = 0.5;\r\n            actionNode.setPosition(0, 0);\r\n            actionNode.parent = this.node;\r\n            let delayAction = cc.delayTime(eTime * index);\r\n            let moveAction = cc.moveTo(eTime, endPos);\r\n            let scaleAction = cc.scaleTo(eTime, 1);\r\n            let rotateAction = cc.rotateBy(eTime, 720);\r\n            let spawnAction = cc.spawn(moveAction, scaleAction, rotateAction);\r\n            let callback = cc.callFunc((target: cc.Node) => {\r\n                target.destroy();\r\n\r\n                //播放翻牌动画\r\n                let fpNode = cc.instantiate(this.pre_card);\r\n                fpNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(tabelData.tableHandCards[i]);\r\n                fpNode.parent = pCardNode;\r\n                fpNode.getComponent(cc.Animation).play();\r\n                dd.mp_manager.playFlop();\r\n            }, this);\r\n            actionNode.runAction(cc.sequence(delayAction, spawnAction, callback));\r\n            dd.mp_manager.playDeal();\r\n            index++;\r\n        }\r\n    }\r\n    /**\r\n     * 刷新公共牌\r\n     * @param {number} pIndex 刷新公共牌的数量\r\n     * @memberof PlayerLayer\r\n     */\r\n    updatePublicCard(pIndex: number) {\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData.gameState < dd.game_state.STATE_TABLE_OUTCARD_2) {\r\n            for (let i = 0; i < this.pCardNodes.length; i++) {\r\n                this.pCardNodes[i].removeAllChildren();\r\n            }\r\n        } else {\r\n            tabelData.tableHandCards.forEach((id: number, index: number) => {\r\n                if (index < pIndex) {\r\n                    let pNode = this.pCardNodes[index];\r\n                    let cardNode = pNode.getChildByName('FPCard');\r\n                    if (!cardNode) {\r\n                        cardNode = cc.instantiate(this.pre_card);\r\n                        cardNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(id);\r\n                        cardNode.getChildByName('back').active = false;\r\n                        cardNode.parent = pNode;\r\n                    } else {\r\n                        let isPlayAnim = cardNode.getComponent(cc.Animation).getAnimationState('fpAction').isPlaying;\r\n                        if (!isPlayAnim) {\r\n                            cardNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(id);\r\n                            cardNode.getChildByName('back').active = false;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }, this);\r\n        }\r\n    }\r\n    /**\r\n     * 显示表态人的表态结果\r\n     * @memberof PlayerLayer\r\n     */\r\n    showBTResult() {\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData) {\r\n            let prevBtIndex = tabelData.prevBtIndex;\r\n            let prevSeat = dd.gm_manager.getSeatDataByIndex(prevBtIndex);\r\n            if (prevSeat) {\r\n                switch (prevSeat.btResult) {//座位表态结果(1=弃牌,2=过牌,3=跟注,4=加注,5=全下\r\n                    case 1://弃牌\r\n                        dd.mp_manager.playFold();\r\n                        this.showDiscardAction(prevSeat);\r\n                        break;\r\n                    case 2://过牌\r\n                        dd.mp_manager.playCheck();\r\n                        break;\r\n                    case 3://跟注\r\n                        dd.mp_manager.playCall();\r\n                        break;\r\n                    case 4:\r\n                        dd.mp_manager.playRaise();\r\n                        break;\r\n                    case 5://全下\r\n                        dd.mp_manager.playAllin();\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 显示弃牌动作\r\n     * @memberof PlayerLayer\r\n     */\r\n    showDiscardAction(seatData: SeatData) {\r\n        let playerNode = this.getNodeBySeatId(seatData.seatIndex);\r\n        if (playerNode) {\r\n            let sPos = playerNode.parent.getPosition().add(playerNode.getPosition());\r\n            let actionNode = new cc.Node();\r\n            actionNode.addComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(0);\r\n            actionNode.setPosition(sPos);\r\n            actionNode.parent = this.node;\r\n            let moveAction = cc.moveTo(0.5, cc.p(0, 0));\r\n            let scaleAction = cc.scaleTo(0.5, 0.5);\r\n            let rotateAction = cc.rotateBy(0.5, 720);\r\n            let spawnAction = cc.spawn(moveAction, scaleAction, rotateAction);\r\n            let callback = cc.callFunc((target: cc.Node) => {\r\n                target.destroy();\r\n            }, this);\r\n            actionNode.runAction(cc.sequence(spawnAction, callback));\r\n            dd.mp_manager.playFold();\r\n        }\r\n    }\r\n    /**\r\n     * 显示下注的动作\r\n     * @memberof PlayerLayer\r\n     */\r\n    showFlyBetAction(seatData: SeatData, cb: any = null) {\r\n        let seats = dd.gm_manager.getTableData().seats;\r\n        let canvasTarget = dd.ui_manager.getCanvasNode().getComponent('GameCanvas');\r\n        let ePos = canvasTarget.pool.parent.getPosition().add(canvasTarget.pool.getPosition());\r\n        let playerNode = this.getNodeBySeatId(seatData.seatIndex);\r\n        if (playerNode) {\r\n            let pos = playerNode.parent.getPosition().add(playerNode.getPosition());\r\n            this.flyBetAction(pos, ePos, '', this.node, cb);\r\n        }\r\n    }\r\n    /**\r\n     * 飞积分\r\n     * @param {cc.Vec2} sPos 开始位置\r\n     * @param {cc.Vec2} ePos 结束位置\r\n     * @param {string} money 金币\r\n     * @param {cc.Node} parentNode 父节点\r\n     * @param {any} cb  回调函数\r\n     * @memberof PlayerLayer\r\n     */\r\n    flyBetAction(sPos: cc.Vec2, ePos: cc.Vec2, money: string, parentNode: cc.Node, cb: any = null) {\r\n        let chipNode = cc.instantiate(this.chip_prefab);\r\n        chipNode.getChildByName('lblBet').getComponent(cc.Label).string = money;\r\n        chipNode.setPosition(sPos);\r\n        chipNode.parent = this.node;\r\n        let moveAction = cc.moveTo(cc.pDistance(ePos, sPos) / 2500, ePos);\r\n        let callback = cc.callFunc((target: cc.Node) => {\r\n            target.destroy();\r\n            if (cb) {\r\n                cb();\r\n            }\r\n        }, this);\r\n        chipNode.runAction(cc.sequence(moveAction, callback));\r\n    }\r\n    /**\r\n     * 根据座位id获取节点索引\r\n     * @param {number} seatIndex 座位号\r\n     * @returns \r\n     * @memberof PlayerLayer\r\n     */\r\n    getNodeBySeatId(seatIndex: number) {\r\n        let nodeIndex = seatIndex - dd.gm_manager.startIndex;\r\n        if (nodeIndex < 0) {\r\n            nodeIndex = 9 + nodeIndex;\r\n        }\r\n        let playerNode = this.seatNodes[nodeIndex].getChildByName('Player');\r\n        return playerNode;\r\n    }\r\n    /**\r\n     * 显示游戏单局结算飞积分\r\n     * @memberof PlayerLayer\r\n     */\r\n    showGameOver() {\r\n        let canvasTarget = dd.ui_manager.getCanvasNode().getComponent('GameCanvas');\r\n        let ePos = canvasTarget.pool.parent.getPosition().add(canvasTarget.pool.getPosition());\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData) {\r\n            dd.mp_manager.playOver();\r\n            for (let i = 0; i < tabelData.settlementOnceList.length; i++) {\r\n                let data = tabelData.settlementOnceList[i];\r\n                let playerNode = this.getNodeBySeatId(data.seatIndex);\r\n                if (playerNode) {\r\n                    if (Number(data.winMoney) > 0) {\r\n                        let pos = playerNode.parent.getPosition().add(playerNode.getPosition());\r\n                        //播放飞积分的动画\r\n                        this.flyBetAction(ePos, pos, data.winMoney, this.node);\r\n                    }\r\n                    //播放飞数字的动画\r\n                    this.showWinOrLostAction(data.winMoney, playerNode);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 游戏结算时，显示其他人的牌\r\n     * @memberof PlayerLayer\r\n     */\r\n    showOthersCard() {\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData) {\r\n            let players: SeatData[] = [];//游戏结算时，剩余的在游戏中的玩家数量\r\n            for (let i = 0; i < tabelData.seats.length; i++) {\r\n                let seat = tabelData.seats[i];\r\n                if (seat.bGamed === 1 && seat.btResult !== 1) {\r\n                    players.push(seat);\r\n                }\r\n            }\r\n            //如果剩余的玩家数量大于1，就翻开所有剩余玩家的牌\r\n            if (players.length > 1) {\r\n                for (let i = 0; i < players.length; i++) {\r\n                    let seat = players[i];\r\n                    //不是自己才翻牌\r\n                    if (!dd.gm_manager.isMineSeat(seat)) {\r\n                        let playerNode = this.getNodeBySeatId(seat.seatIndex);\r\n                        if (playerNode) {\r\n                            for (let j = 0; j < seat.handCards.length; j++) {\r\n                                //播放翻牌动画\r\n                                let fpNode = cc.instantiate(this.pre_card);\r\n                                fpNode.getChildByName('img').getComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(seat.handCards[j]);\r\n                                fpNode.parent = playerNode.getChildByName('card' + (j + 3));\r\n                                fpNode.getComponent(cc.Animation).play();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 显示输赢金币动作\r\n     * @memberof PlayerLayer\r\n     */\r\n    showWinOrLost() {\r\n        let tabelData = dd.gm_manager.getTableData();\r\n        if (tabelData) {\r\n            for (let i = 0; i < tabelData.settlementOnceList.length; i++) {\r\n                let data = tabelData.settlementOnceList[i];\r\n                let playerNode = this.getNodeBySeatId(data.seatIndex);\r\n                if (playerNode) {\r\n                    this.showWinOrLostAction(data.winMoney, playerNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 显示输赢金币动作\r\n     * @param {number} money \r\n     * @memberof PlayerLayer\r\n     */\r\n    showWinOrLostAction(money: string, parent: cc.Node) {\r\n        let actionNode = new cc.Node();\r\n        let lbl = actionNode.addComponent(cc.Label);\r\n        lbl.fontSize = 40;\r\n        lbl.string = Number(money) > 0 ? ('+' + money) : money;\r\n        actionNode.parent = parent;\r\n        actionNode.setPosition(cc.p(0, 0));\r\n        actionNode.color = Number(money) > 0 ? cc.Color.RED : cc.Color.GREEN;\r\n        let move = cc.moveBy(1, cc.p(0, 100));\r\n        let callback = cc.callFunc((target: cc.Node) => {\r\n            target.destroy();\r\n        }, this);\r\n        actionNode.runAction(cc.sequence(move, callback));\r\n    }\r\n    /**\r\n     * 点击空位\r\n     * \r\n     * @param {cc.Event.EventTouch} event \r\n     * @memberof PlayerLayer\r\n     */\r\n    click_empty(event: cc.Event.EventTouch) {\r\n        if (dd.gm_manager.getMineSeat()) return;\r\n        dd.ui_manager.showLoading('正在申请坐下');\r\n        dd.mp_manager.playButton();\r\n        let seatIndex = Number(event.getCurrentTarget().parent.name) + dd.gm_manager.startIndex;\r\n        if (seatIndex > 8) {\r\n            seatIndex -= 9;\r\n        }\r\n        let obj = {\r\n            tableId: dd.gm_manager.getTableData().tableId,\r\n            seatIndex: seatIndex\r\n        }\r\n        let msg = JSON.stringify(obj);\r\n        dd.ws_manager.sendMsg(dd.protocol.DZPKER_SEAT_DOWN, msg, (flag: number, content?: any) => {\r\n            if (flag === 0) {\r\n                dd.ui_manager.showTip('入座成功!');\r\n            } else if (flag === -1) {\r\n                dd.ui_manager.showTip('坐下消息发送超时');\r\n            } else {\r\n                // dd.ui_manager.showTip(content);\r\n                dd.gm_manager.btnScript.click_buy();\r\n                dd.ui_manager.hideLoading();\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}