{"version":3,"sources":["PlayerUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SceneScript\\Game","sourcesContent":["const { ccclass, property } = cc._decorator;\r\nimport * as dd from './../../Modules/ModuleManager';\r\n\r\n@ccclass\r\nexport default class PlayerUI extends cc.Component {\r\n    /**\r\n     * 头像\r\n     * \r\n     * @type {cc.Sprite}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Sprite)\r\n    headImg: cc.Sprite = null;\r\n    /**\r\n     * 名称\r\n     * @type {cc.Label}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Label)\r\n    lab_nick: cc.Label = null;\r\n    /**\r\n     * 携带金币\r\n     * @type {cc.Label}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Label)\r\n    lab_gold: cc.Label = null;\r\n    /**\r\n     * 下注金币\r\n     * @type {cc.Label}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Label)\r\n    lab_bet: cc.Label = null;\r\n    /**\r\n     * 牌型\r\n     * @type {cc.Label}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Label)\r\n    lab_cardType: cc.Label = null;\r\n    /**\r\n     * 倒计时\r\n     * @type {cc.Sprite}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Sprite)\r\n    timer: cc.Sprite = null;\r\n    /**\r\n     * 庄节点\r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    deal: cc.Node = null;\r\n    /**\r\n     * straddle节点\r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    straddle: cc.Node = null;\r\n    /**\r\n     * 下注积分节点\r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    board: cc.Node = null;\r\n    /**\r\n     * 小牌节点\r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    minCard: cc.Node = null;\r\n    /**\r\n     * 两张手牌的节点集合 0 、1为手牌   2、3为看牌时候翻牌的节点\r\n     * \r\n     * @type {cc.Node[]}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property([cc.Node])\r\n    handCards: cc.Node[] = [];\r\n    /**\r\n     * straddle表态按钮\r\n     * \r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    btn_straddle: cc.Node = null;\r\n    /**\r\n     * 亮牌按钮\r\n     * @type {cc.Node}\r\n     * @memberof PlayerUI\r\n     */\r\n    @property(cc.Node)\r\n    btn_lookCard: cc.Node = null;\r\n    /**\r\n     * 当前节点绑定的座位对象\r\n     * \r\n     * @type {SeatData}\r\n     * @memberof PlayerUI\r\n     */\r\n    seatData: SeatData = null;\r\n    /**\r\n     * 当前表态已经用掉的时间\r\n     * \r\n     * @type {number}\r\n     * @memberof PlayerUI\r\n     */\r\n    timeCount: number = -1;\r\n    /**\r\n     * 是否已创建了手牌\r\n     * \r\n     * @type {boolean}\r\n     * @memberof PlayerUI\r\n     */\r\n    isCreateCard: boolean = false;\r\n\r\n    onLoad() {\r\n        cc.systemEvent.on('updatePlayerUI', this.updatePlayerUI, this);\r\n    }\r\n\r\n    updatePlayerUI() {\r\n        if (!this.seatData) return;\r\n        this.seatData = dd.gm_manager.getSeatDataByAccount(this.seatData.accountId);\r\n        let tableData = dd.gm_manager.getTableData();\r\n        if (this.seatData && tableData) {\r\n            //如果结算的时候,最后那个亮牌的人是自己\r\n            if (tableData.showCardSeatIndex !== -1 && tableData.showCardSeatIndex === this.seatData.seatIndex\r\n                && tableData.gameState === dd.game_state.STATE_TABLE_OVER_ONCE) {\r\n                this.btn_lookCard.active = true;\r\n                let seq = cc.sequence(cc.scaleTo(0.4, 0.8), cc.scaleTo(0.4, 0.9).easing(cc.easeElasticOut(0.4)));\r\n                let action = cc.repeatForever(seq);\r\n                this.btn_lookCard.runAction(action);\r\n            } else {\r\n                this.btn_lookCard.stopAllActions();\r\n                this.btn_lookCard.active = false;\r\n            }\r\n        } else {\r\n            this.btn_lookCard.stopAllActions();\r\n            this.btn_lookCard.active = false;\r\n        }\r\n    }\r\n\r\n    updateData(data: SeatData, index: number) {\r\n        this.seatData = data;\r\n        this.setLeftOrRight(this.straddle, 100, index);\r\n        this.setLeftOrRight(this.deal, 100, index);\r\n        this.setLeftOrRight(this.board, 100, index);\r\n        this.setCenter(this.minCard, -50, index);\r\n        this.setLeftOrRight(this.lab_bet.node, 32, index);\r\n    }\r\n    /**\r\n     * 设置距离左边或右边的距离\r\n     * \r\n     * @param {cc.Node} node \r\n     * @param {number} len \r\n     * @param {number} index \r\n     * @memberof PlayerUI\r\n     */\r\n    setLeftOrRight(node: cc.Node, len: number, index: number) {\r\n        let widget = node.getComponent(cc.Widget);\r\n        if (index > 4) {\r\n            widget.isAlignRight = true;\r\n            widget.isAbsoluteRight = true;\r\n            widget.isAlignLeft = false;\r\n            widget.right = len;\r\n        } else {\r\n            widget.isAlignLeft = true;\r\n            widget.isAbsoluteLeft = true;\r\n            widget.isAlignRight = false;\r\n            widget.left = len;\r\n        }\r\n    }\r\n    /**\r\n     * 控制节点水平居中的偏移\r\n     * \r\n     * @param {cc.Node} node \r\n     * @param {number} len \r\n     * @param {number} index \r\n     * @memberof PlayerUI\r\n     */\r\n    setCenter(node: cc.Node, len: number, index: number) {\r\n        let widget = node.getComponent(cc.Widget);\r\n        widget.isAlignHorizontalCenter = true;\r\n        widget.isAbsoluteHorizontalCenter = true;\r\n        if (index > 4) {\r\n            widget.horizontalCenter = -len;\r\n        } else {\r\n            widget.horizontalCenter = len;\r\n        }\r\n    }\r\n\r\n    async update(dt: number) {\r\n        if (dd && dd.gm_manager) {\r\n\r\n            let tableData = dd.gm_manager.getTableData();\r\n            if (this.seatData && tableData) {\r\n                this.deal.active = (tableData.bankerIndex === this.seatData.seatIndex) ? true : false;\r\n\r\n                //这个玩家是否参加游戏\r\n                if (this.seatData.bGamed === 1) {\r\n                    switch (this.seatData.btResult) {\r\n                        case 1:\r\n                            this.lab_nick.string = '弃  牌';\r\n                            break;\r\n                        case 2:\r\n                            this.lab_nick.string = '过  牌';\r\n                            break;\r\n                        case 3:\r\n                            this.lab_nick.string = '跟  注';\r\n                            break;\r\n                        case 4:\r\n                            this.lab_nick.string = '加  注';\r\n                            break;\r\n                        case 5:\r\n                            this.lab_nick.string = 'ALL IN';\r\n                            break;\r\n                        default: {\r\n                            if (this.seatData.btState === 0 && this.seatData.seatIndex === tableData.btIndex\r\n                                && tableData.gameState < dd.game_state.STATE_TABLE_OVER_ONCE) {\r\n                                this.lab_nick.string = '思考中...';\r\n                            } else {\r\n                                this.lab_nick.string = dd.utils.getStringBySize(this.seatData.nick, 12);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    this.lab_nick.string = '等待下局';\r\n                }\r\n                //如果在庄家定大小盲阶段\r\n                if (tableData.gameState === dd.game_state.STATE_TABLE_BETBLIND) {\r\n                    if (this.seatData.straddleFlag === 1) {\r\n                        this.lab_nick.string = 'straddle';\r\n                    } else {\r\n                        this.lab_nick.string = dd.utils.getStringBySize(this.seatData.nick, 12);\r\n                    }\r\n                }\r\n\r\n                this.lab_gold.string = this.seatData.currMoney;\r\n                this.board.active = Number(this.seatData.betMoney) > 0 ? true : false;\r\n                if (this.board.active) {\r\n                    this.lab_bet.string = this.seatData.betMoney;\r\n                }\r\n                this.straddle.active = this.seatData.straddleFlag === 1 ? true : false;\r\n                //在订庄家大小盲注的时候，才显示 straddle\r\n                if (tableData.gameState === dd.game_state.STATE_TABLE_BETBLIND) {\r\n                    this.btn_straddle.active = (this.seatData.straddle === 1) && dd.gm_manager.isMineSeat(this.seatData) ? true : false;\r\n                } else {\r\n                    this.btn_straddle.active = false;\r\n                }\r\n\r\n                if (this.seatData.btResult === 1 || dd.gm_manager.isMineSeat(this.seatData) || tableData.gameState < dd.game_state.STATE_TABLE_OUTCARD_1) {\r\n                    //自己和弃牌的人不显示小牌\r\n                    this.minCard.active = false;\r\n\r\n                    //自己和别人，小于发牌的阶段，都不显示牌，不管是亮牌还是手牌\r\n                    if (tableData.gameState < dd.game_state.STATE_TABLE_OUTCARD_1) {\r\n                        this.handCards.forEach((card: cc.Node) => {\r\n                            if (card.childrenCount > 0) {\r\n                                card.destroyAllChildren();\r\n                            }\r\n                        }, this);\r\n                    }\r\n                } else {\r\n                    this.minCard.active = true;\r\n                }\r\n                //判断当前是否该作为表态(排除straddle)\r\n                if (this.seatData.btState === 0 && tableData.btIndex === this.seatData.seatIndex) {\r\n                    if (tableData.gameState === dd.game_state.STATE_TABLE_BET_BT_1\r\n                        || tableData.gameState === dd.game_state.STATE_TABLE_BET_BT_2\r\n                        || tableData.gameState === dd.game_state.STATE_TABLE_BET_BT_3\r\n                        || tableData.gameState === dd.game_state.STATE_TABLE_BET_BT_4) {\r\n                        if (this.timeCount === -1) {\r\n                            //表态已经用了的时间\r\n                            this.timeCount = Number(tableData.actTotalTime) - (Number(tableData.actTime) - Number(tableData.svrTime));\r\n                            if (this.timeCount < 0) {\r\n                                this.timeCount = 0;\r\n                            }\r\n                            if (this.timeCount > Number(tableData.actTotalTime)) {\r\n                                this.timeCount = Number(tableData.actTotalTime);\r\n                            }\r\n                        }\r\n                        this.timeCount += dt * 1000;\r\n                        if (this.timeCount > Number(tableData.actTotalTime)) {\r\n                            this.timeCount = Number(tableData.actTotalTime);\r\n                        }\r\n                        this.timer.fillRange = -this.timeCount / Number(tableData.actTotalTime);\r\n                        //播放倒计时\r\n                        if (this.timer.fillRange === -0.8) {\r\n                            dd.mp_manager.playTime();\r\n                        }\r\n                    } else {\r\n                        this.timeCount = -1;\r\n                        this.timer.fillRange = 0;\r\n                    }\r\n                } else {\r\n                    this.timeCount = -1;\r\n                    this.timer.fillRange = 0;\r\n                }\r\n\r\n                if (dd.gm_manager.isMineSeat(this.seatData)) {\r\n                    if (tableData.gameState > dd.game_state.STATE_TABLE_OUTCARD_1 && this.seatData.btResult !== 1) {\r\n                        this.lab_cardType.string = dd.gm_manager.getCardType(this.seatData.cardType);\r\n                    } else {\r\n                        this.lab_cardType.string = '';\r\n                    }\r\n                    if (tableData.gameState > dd.game_state.STATE_TABLE_OUTCARD_1 && !dd.gm_manager.isCreateMineCard && this.seatData.btResult !== 1) {\r\n                        dd.gm_manager.isCreateMineCard = true;\r\n                        this.seatData.handCards.forEach((id: number, index: number) => {\r\n                            let card = this.handCards[index];\r\n                            if (card.childrenCount < 1) {\r\n                                let cardNode = new cc.Node();\r\n                                cardNode.addComponent(cc.Sprite).spriteFrame = dd.img_manager.getPokerSpriteFrameById(id);\r\n                                cardNode.parent = card;\r\n                            }\r\n                        }, this);\r\n                    }\r\n                    if (tableData.gameState < dd.game_state.STATE_TABLE_OUTCARD_1 || this.seatData.btResult === 1) {\r\n                        if (dd.gm_manager.isCreateMineCard) {\r\n                            dd.gm_manager.isCreateMineCard = false;\r\n                            this.handCards.forEach((card: cc.Node) => {\r\n                                if (card.childrenCount > 0) {\r\n                                    card.destroyAllChildren();\r\n                                }\r\n                            }, this);\r\n                        }\r\n                    }\r\n                    //如果不为 结算阶段，不显示亮牌按钮\r\n                    if (tableData.gameState !== dd.game_state.STATE_TABLE_OVER_ONCE) {\r\n                        this.btn_lookCard.stopAllActions();\r\n                        this.btn_lookCard.active = false;\r\n                    }\r\n                } else {\r\n                    this.lab_cardType.string = '';\r\n                    this.btn_lookCard.active = false;\r\n                }\r\n                //显示头像的部分，因为是异步，所以要放到最后\r\n                this.headImg.spriteFrame = await dd.img_manager.loadURLImage(this.seatData.headImg);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 亮牌按钮\r\n     * @memberof PlayerUI\r\n     */\r\n    click_btn_lookCard() {\r\n        dd.mp_manager.playButton();\r\n        this.btn_lookCard.active = false;\r\n        let obj = {\r\n            tableId: dd.gm_manager.getTableData().tableId\r\n        };\r\n        let msg = JSON.stringify(obj);\r\n        dd.ws_manager.sendMsg(dd.protocol.DZPKER_TABLE_SHOW_CARD_BT, msg);\r\n    }\r\n    /**\r\n     * 闭眼盲注表态\r\n     * @memberof PlayerUI\r\n     */\r\n    click_btn_straddle() {\r\n        dd.mp_manager.playButton();\r\n        this.btn_lookCard.active = false;\r\n        let obj = {\r\n            tableId: dd.gm_manager.getTableData().tableId,\r\n            seatIndex: this.seatData.seatIndex\r\n        };\r\n        let msg = JSON.stringify(obj);\r\n        dd.ws_manager.sendMsg(dd.protocol.DZPKER_STRADDLE_BT, msg);\r\n    }\r\n}\r\n"]}